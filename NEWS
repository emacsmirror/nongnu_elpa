VM 8.1.0-devo

  IMPROVEMENTS:

    * Added hiding and protection of headers in composition buffers.  See the
      new variable `vm-mail-mode-hidden-headers' for customization. (Thanks to
      Eric Schulte for the initial code posted in gnu.emacs.vm.info)

    * Added the function `vm-mime-list-part-structure' to list the mime part
      structure of a message.

    * Added function `vm-mime-nuke-alternative-text/html' which can be used to
      get rid of alternative text/html parts.

    * VMPC: Better action reader and a default profile which is used if no
      email addresses could be found.  The meaning of the arguments for
      `vmpc-prompt-for-profile' has been slightly simplified, see the doc
      string for details.  

    * Removed `vm-paragraph-fill-column', the value is now taken from
      `vm-fill-paragraphs-containing-long-lines' thus allowing to fill to the
      available window with.

    * Replaced `vm-fill-paragraphs-containing-long-lines' by the faster and
      more flexible version from vm-rfaddons.el.  Also cleaned up calls to the
      fill function and removed code duplication.  The code using longline.el
      remains in vm-rfaddons.el, but it must be used explicitly now in an
      advice.

    * Moved the variable `vm-fill-long-lines-in-reply-column' from
      vm-rfaddons.el to VM core.  It is not necessary to hook the fill
      function, just set the variable.

    * Errors caused by `vm-retrieved-spooled-mail-hook' are reported and
      assimilation of messages continues instead of aborting.

    * Handle filenames also from the disposition fields "name", "filename*"
      and "name*", where the latter two get decoded as they might contain 8bit
      chars.

    * Uncoupled searching of MIME images from source location.  The search
      should be a bit smarter now allowing to place the images outside of the
      source tree now.

    * Added syncing of message status when visiting a mbox of Thunderbird.
      Not all message flags are interchangeable and the message summary
      file (.msf) of Thunderbird will get removed by VM in order to force
      Thunderbird to rebuilt it.  Also VMs folder index will be skipped if
      it is older than the folder in order to update VMs message status flags.

    * Improved text/html displaying by w3m.  Inline images are now extracted
      correctly and they also display now.  Added a generic handler code to
      support also other HTML handlers.

    * Display number of drafts and postponed messages in the modeline and use
      a more compact modeline.

    * Moved my user defined summary functions to the core:
     - S for human readable size
     - P for indication of attachments
     - p for indication of a postponed message

    * Added variable `vm-restore-saved-summary-formats' to restore
      each folder's summary format to what was saved previously.
      (Uday S. Reddy)

    * A prefix argument to `vm-fix-my-summary!!!' will kill a folders local
      summary format which was restored by `vm-restore-saved-summary-formats'.

    * The button for an image or PDF shows a thumbnail now when possible.
      This requires ImageMagick.  (Thanks to Eric Schulte for the idea and
      initial code.)

  BUG FIXES

    * `vm-quit-no-change' made to honour the setting of the variable
      `delete-auto-save-files'. (Uday S. Reddy)

  IMPROVEMENTS for pop-folders (Uday S. Reddy)

    * Added the variable `vm-pop-debug' to keep trace buffers.

    * New commands `vm-pop-start-bug-report' and `vm-pop-submit-bug-report'
      which track POP session details.


  IMPROVEMENTS for imap-folders (Uday S. Reddy)

    * Made server expunge more robust.  Added new variable
      `vm-imap-expunge-retries' to force retries for sluggish servers.

    * Allow message attributes as well as labels to be saved on server

    * Changed vm-imap-get-new-mail to do synchronization: reading and writing
      message attributes & labels, expunge messages in the cache.  Added
      variable `vm-imap-sync-on-get' to control this behavior.

    * Added command `vm-imap-synchronize' to do full synchronization. 

    * Trapping IMAP server errors uniformly.

    * New commands `vm-imap-start-bug-report' and `vm-imap-submit-bug-report'
      which track IMAP session details.

    * New variable `vm-imap-account-alist' allows multiple IMAP accounts to be
      handled uniformly.  The variable `vm-imap-server-list' is now obsolete.
      IMAP folders should be specified in the minibuffer using the
      account:mailbox format.  See the info node on IMAP folders.

    * New variable `vm-load-headers-only' to enable headers-only
      downloading of IMAP folders.  (This is still experimental.)

VM 8.0.10-devo

  NOTES:

    * This is the first version of VM 8.* to be also released as a XEmacs
      package.

  IMPROVEMENTS:

    * Added missing documentation for `vm-user-agent', "?" binding and
      'vm-delete-duplicate-messages'.  (Thanks to Alan Wehmann)

    * `vm-message-history.el' now uses a buffer similar to the summary for
      browsing the history.  The buffer replaces the summary buffer when
      present.  Duplicate history entries will be removed.  

  BUGFIXES:

    * Rewrote `vm-message-history.el' to also work for XEmacs.

    * Leading lines of a yanked message were accidently taken as headers and
      got removed if `vm-reply-include-presentation' was t.

    * Fixed encoding of headers for trailing 8 bit characters.  (Thanks to
      Lutz Euler for the patch)

    * Decode (QP-)encoded clear text before decrypting it.

    * Use nil as default for `vm-mime-8bit-composition-charset' and thus
      enable proper detection of right charset.  (Thanks to Naoki Saito for
      reporting and debugging)

    * Fixed bug in `vm-mime-display-external-generic' for GNU Emacs 23 causing
      corrupted content in the output file.  The old code has been replaced by
      a call to `vm-mime-send-body-to-file' which avoids duplication and works.  
      There has been some special handling for `vm-fsfemacs-mule-p', but the
      actual reason for this was unclear so it has been removed.

    * Correctly handle `vm-enable-addons' being t.

    * FIXME This has been reverted as it causes loss of attributes.
      If you have sufferend from this, and saved the folder there is no
      way to restore it!

        Correctly store UTF-8 strings in the X-VM-v5-Data header to avoid
        corruption of summay lines. (Thanks to Yuning Feng for the patch)

    * Correctly encode multibyte subjects. (Thanks to Yuning Feng for the
      patch) 

VM 8.0.9

  BUGFIXES:

    * Added documentation to `vm-mime-external-content-types-alist' that no
      extra single quotes should be used around %f as the file name is already
      quoted for the shell. (Thanks to Martin Schwenke)

    * Fixed version number generation in release script.  It was broken for
      8.0.8, i.e. it was showing 8.0.x-xemacs-542 instead.  Now also other
      branch related information is stored in the file vm-revno.el.

VM 8.0.8

  IMPROVEMENTS:

    * Reactivated "Allow defadvice on function `vm' by recursing on session
      start".  It should work correctly now.

    * Added interactive `vm-pipe-message-to-command-discard-output' and
      the non-interactive `vm-pipe-message-to-command-to-string' for using
      it in own functions.

    * Added `vm-pipe-messages-to-command*' for bulk piping messages to a
      single command, i.e. like saving to a pipe.  This is substantially
      faster than `vm-pipe-message-to-command*' which call the command on 
      each message separately.  You may want to use it to feed spamassasin.

    * Modified key bindings for piping messages, i.e. "|" is a prefix key
      now. Type it twice to get the old pipe command, "|d" will call the 
      discard the output, just display some infos in the mode line. "|s" 
      will call `vm-pipe-messages-to-command' and "|n" will also call it 
      but discard the output.

    * Removed vm-easymenu.el and use easymenu.el instead.

    * In `vm-save-message-preview', ask the user if the output file already
      exists instead of silently overwriting it.

  BUG FIXES:

    * Moved [Undo] to Dispose menu and [Emacs] to Help menu as these do not
      work in Emacs 22 anymore when on the menu bar.

    * Fixed intermixing of signature and quoted text in reply if
      `vm-reply-include-presentation' is t. (Thanks to Roland Winkler for
      debugging and reporting)

    * Fixed yanking of presentation from wrong folder when folder is virtual.
      (Thanks to Roland Winkler for reporting)

    * Redistributed flag not displayed in presentation buffer mode line. 
      https://bugzilla.redhat.com/show_bug.cgi?id=428248 (Thanks to Jonathan
      Underwood for the fix)

    * `vm-submit-bug-report' gets the variables dynamically now and thus does
      not miss new ones or references old ones anymore. 

    * Correctly determine the real folder when postponing compositions started
      from a virtual folder. (Thanks to Uday S. Reddy for reporting and 
      debugging)

    * Avoid crash when `vm-mouse-set-mouse-track-highlight' is not called
      within a summary buffer or without a valid message pointer.

    * Do not disable modes which do not exist. (Thanks to Uday S. Reddy for
      reporting) 

VM 8.0.7

  BUG FIXES:

    * Disable only those minor modes listed in the variable
      `vm-disable-modes-before-encoding' before encoding a
      composition. (Thanks to Alley for reporting and debugging)

    * Removed recursion from function `vm' added by 8.0.6, as it 
      causes startup troubles.

    * Removed extra newline before attachment buttons. (Thanks to Alley for
      reporting)

    * Removed wrongly used calls to `interactive-p'. (Thanks to Alley for
      reporting and debugging)

VM 8.0.6

  IMPROVEMENTS:

    * Rewrote INSTALL to be more consistent and more understandable.

    * Allow defadvice on function `vm' by recursing on session start. (Thanks
      to Blueman for the code)

  BUG FIXES:

    * Ignore empty reply-to in `vm-ignored-reply-to'.

    * Quoted the variable `vm-summary-format' in a doc string.

    * Fixed typos in the docstring of `vm-mail-send-and-exit'.

    * Disable all minor modes before encoding a composition.  This results in
      faster encoding when font-lock was enabled and avoids problems when
      parts of a MIME object button get expanded due to an abbrev and thus the
      extent/overlay gets split into two separate parts causing an encoding
      error.

    * Avoid duplicate mime buttons during decoding. (Thanks to Alley for
      reporting)

    * Mask 8 bit chars by 0xff in `vm-mime-qp-encode-region' to avoid crash
      for those with all higher order bits set (negative ones?) (Thanks to
      Blueman for the fix.)

VM 8.0.5

  BUG FIXES:

    * Fixed bug caused by fixing `vm-drop-buffer-name-chars' in 8.0.4.  There
      is a 20-40% chance to create a new bug when fixing one.  Regression
      tests would be nice, but we do not have any for VM ;-/

VM 8.0.4

  IMPROVEMENTS:

    * Require cl.el at compile-time only. (Thanks to John J. Foerch)

    * Quiet compiler warning about old style backquotes. (Thanks to John
      J. Foerch)

  BUG FIXES:

    * Correctly call custom-add-load. (Thanks to John J. Foerch and
      Jonathan.underwood) 

    * Fixed building of vm-cus-load.el for Emacs 21.

    * Use the old default for `vm-primary-inbox', i.e. "~/INBOX".

    * Honor a t in `vm-drop-buffer-name-chars' as documented.

VM 8.0.3

  IMPROVEMENTS:

    * Unified `vm-continue-what-message', i.e. first check for composition
      buffers, if none exist then for saved drafts.  Also added new variable
      `vm-zero-drafts-start-compose'.

  BUG FIXES:

    * Fixed building of autoloads for GNU Emacs.

    * Docfixes for vm-pine.el (Thanks to Stephen Eglen).

    * Resurrected `vm-add-reply-subject-prefix' which was lost by the commit
      of revno 91.

    * Search for BZR only if bzrdir exists and use locate-file only when
      defined.

    * Use  vm-mime-8bit-composition-charset as a fallback also for MULE Emacs.

    * Fixed defcustom of vm-keep-crash-boxes and vm-spool-files.

    * Fixed the section headers of the NEWS file.

VM 8.0.2

  IMPROVEMENTS:

    * Added --with-pixmapdir to configure the location of the pixmaps.

    * DESTDIR-Patch (Ulrich Mueller).

  BUG FIXES:

    * Avoid overflow of `buffer-undo-list' when inserting or encoding
      big attachments.

    * defcustom of `vm-mime-all-attachments-directory' should list nil.

    * Honor pre VM 8.0.0 values of `vm-folder-directory' and
      `vm-primary-inbox'. This should eliminate problems with users which
      never changed the defaults. 

    * Use "cygwin-mount" to fix paths when available.

    * Activate summary faces only when requested by vm-enable-addons.

    * Fixed defcustom of `vm-enable-addons' and added documentation.

    * "make install" creates $(bindir) now.

    * Separate paths (e.g. otherdirs) only by semicolons to avoid problems on
      Win32.

    * Handle paths with spaces correctly.

    * Install also pixmaps for GTK enabled Emacs.

    * Just use the first subject when replying/forwarding to a set of
      messages.  This avoids long filenames for saved composition buffers.
    
    * Ensure we are compiling with an emacs version >= 21.

    * Encode headers regexp and case-fold-search corrected. (Ulrich Mueller)

    * vm-summary-faces-mode does not leak extents anymore.

VM 8.0.1

  NOTES:

    In order to get more features from vm-rfaddons set the variable
    `vm-enable-addons' in your ~/.vm.

  BUG FIXES:

    * A saner default for vm-shrunken-header-face.

    * Added documentation on vm-shrunken-headers-face and
      vm-shrunken-headers-keymap.

    * Added a new custom group `vm-faces' for faces.

    * Added autoload token for vm-user-agent.

    * Use INSTALL_PROGRAM instead of INSTALL_DATA for programs.

    * Do not set vm-folder-directory if there is ~/INBOX.  If VM does not get
      mail after upgrading from 7.19 it is probably due to the new default for
      vm-folder-directory, which was nil before.

    * Revised the bindings and enabled features to a hopefully less
      controversial setting. 

VM 8.0.0

  NOTES:

    VM is now in my hands and I will do my best to keep it alive!

    ,--------------------------------------------------------------------------
    | From: Kyle Jones <kyle_jones@wonderworks.com>
    | To: Robert Widhopf-Fenk <hack@robf.de>
    | Date: Wed, 21 Feb 2007 13:11:32 -0800
    | Subject: Handing over VM?
    | 
    | Robert Widhopf-Fenk writes:
    |  > Hi Kyle,
    |  > 
    |  > I have been maintaining VM "unofficially" for the last few
    |  > years and now I want to become the official maintainer of
    |  > VM.
    |  > 
    |  > Do I get your OK?
    | 
    | Yes.  Obviously I've moved on, though I've been slow to admit it
    | to myself.  Good luck.
    `--------------------------------------------------------------------------
	   
    * My (robf) VM extensions are now activated by default, where it makes
      sense to me.

    * Releases are numbered now MAJOR.MINOR.PATCHLEVEL, where MAJOR is
      increased when fundamental changes occur, MINOR for new features and
      PATCHLEVEL for bugfix releases.

    * New cleaner source tree layout.

    * Better built system based on configure.  Autoloads are generated only
      for those functions marked with the autoload token now, which are mainly
      interactive function. Thus, loading occurs only on demand and startup
      should be faster.
      
  BUG FIXES:

    * All bugs reported to gnu.emacs.vm.bugs, gnu.emacs.vm.info and directly
      to me are fixed either by the patches posted by others or me.

    * If there are any missing autoloads, please report them and add a
      (require 'vm-SOURCE) to your ~/.vm!

    * Probably added numerous new bugs.


  IMPROVEMENTS: compared to 7.19 (not vmrf)

    * A new icon set based on vm-small-pixmaps.tgz which was floating around.
      This one should fit by height to the one used in XEmacs and Emacs 22,
      but it is slightly larger than those used in Emacs 21.  If you see the
      old icons, the please set the variables `vm-image-directory' and
      `vm-toolbar-pixmap-directory' to nil in your ~/.vm!

    * vm-mime-type-converter-alist now also works when replying to messages,
      i.e. for text/html one can use lynx or w3m for the conversion.
      (setq vm-mime-type-converter-alist
	'(("text/html" "text/plain" "lynx -force_html -dump /dev/stdin")))

    * Postponing (draft handling) of compositions and continuing of drafts, in
      fact any messages also those from other people. (Info node: Sending
      Messages) 

    * New mail header insertion functions for return-receipts, mail-priority
      and FCC.

    * More virtual folder selectors and replacements of other functions based
      on selectors. (Info node: Virtual Folders)

    * vm-serial.el provides message templates for composition and
      personalizes mass emails. (Info node: TODO)
    
    * vm-biff.el for popups with a list of new messages.

    * vm-rfaddons.el has various stuff, look at the source if you are curious
      or miss some VM feature, as it might already be there!

;;; Local Variables: ***
;;; mode:text ***
;;; End: ***
